# pcordic vhdl implementation

In order to run a simulation first clean the targets:

```
make clean
```

The build the targets with specified parameter `B` and an array `theta` with test values, for example:

```
make B=32 theta=[0.1,0.2]
```

To then run the simulation with displayed output:

```
make sim B=32 
```

Or with a vcd-file dump:
```
make wave B=32 
```



## Top-level entity

The top-level file of the pcordic implementation is `pcordic.vhdl`. The entity `pcordic` consists of the components:
* `R_block` in file `R_block.vhdl` 
* `prec_add` in file `prec_add.vhdl` 
* `S_block` in file `S_block.vhdl` 

```
        -----------    -----------
x_0 --->| R_block |--->| S_block |---> x_o
y_0 --->|   	  |--->|     	 |---> y_o
        -----------    -----------
              ^               ^
              |               |
            sigma_L        sigma_H
              |               |
          -------------    ----------
          | theta2bbr |    |        |
theta --->|    	      |--->|prec_add|
          |           |    |        |
          -------------    ----------
```

The entity transforms the lower part of `theta` to BBR and passes it to `prec_add` which calculates the estimated lower part of `theta`.

## Components of `pcordic`
### `R_block`
The code of the entity is generated by script `code_gen/gen_pcordic.py` for a supported Value for B.

### `prec_add`


### `S_block`


## Simulation

