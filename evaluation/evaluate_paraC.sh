#!/usr/bin/bash

set -e
echo "starting evaluation"


cd ../para-CORDIC/rtl/
#for each B calcualte different sin/cos values and save the value in a file
for _B in 16 24 32 54 64
do
    make clean
    #make B=$_B theta="[-0.785398,-0.523599,-0.392699,0,0.785398,0.523599,0.392699]"
    make B=$_B theta="
[-0.7853981633974483,-0.7696902001294993,-0.7539822368615503,-0.7382742735936014,-0.7225663103256524,-0.7068583470577035,-0.6911503837897545,-0.6754424205218055,-0.6597344572538566,-0.6440264939859076,-0.6283185307179586,-0.6126105674500096,-0.5969026041820606,-0.5811946409141118,-0.5654866776461627,-0.5497787143782138,-0.5340707511102648,-0.5183627878423158,-0.5026548245743669,-0.4869468613064179,-0.47123889803846897,-0.45553093477052,-0.439822971502571,-0.42411500823462206,-0.40840704496667307,-0.3926990816987241,-0.37699111843077515,-0.36128315516282616,-0.3455751918948772,-0.32986722862692824,-0.31415926535897926,-0.2984513020910303,-0.28274333882308134,-0.26703537555513235,-0.25132741228718336,-0.23561944901923448,-0.2199114857512855,-0.2042035224833365,-0.18849555921538752,-0.17278759594743853,-0.15707963267948966,-0.14137166941154067,-0.12566370614359168,-0.10995574287564269,-0.0942477796076937,-0.07853981633974472,-0.06283185307179584,-0.04712388980384685,-0.031415926535897865,-0.015707963267948877,1.1102230246251565e-16,0.015707963267948988,0.031415926535897976,0.04712388980384696,0.06283185307179595,0.07853981633974494,0.09424777960769393,0.1099557428756428,0.1256637061435918,0.14137166941154078,0.15707963267948977,0.17278759594743875,0.18849555921538763,0.20420352248333662,0.2199114857512856,0.23561944901923448,0.2513274122871836,0.26703537555513246,0.28274333882308156,0.29845130209103043,0.3141592653589793,0.3298672286269284,0.3455751918948773,0.3612831551628264,0.37699111843077526,0.39269908169872414,0.40840704496667324,0.4241150082346221,0.4398229715025712,0.4555309347705201,0.47123889803846897,0.48694686130641807,0.5026548245743669,0.518362787842316,0.5340707511102649,0.549778714378214,0.5654866776461629,0.5811946409141118,0.5969026041820609,0.6126105674500097,0.6283185307179588,0.6440264939859077,0.6597344572538566,0.6754424205218057,0.6911503837897546,0.7068583470577037,0.7225663103256525,0.7382742735936014,0.7539822368615505,0.7696902001294994]"
    #cd ../../
    make sim B=$_B | (cd ../../evaluation; python3 evalPara.py)
done
